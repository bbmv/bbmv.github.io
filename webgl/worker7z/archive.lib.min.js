function DataStorage(path,isdir,data) {
	this.path = path;
	this.isdir = isdir;
	this.data = data;
}

// ------------------------------------------------------
function DataStorageInput(parent, name, isdir, data) {
	this.parent = parent;
	this.name = name;
	this.isdir = isdir;
	this.data = data;
}

// ------------------------------------------------------
function recursiveData(FS, ar, path, apdx2rm) {
	var elements = FS.readdir(path);
	for (key in elements) {
		if (key < 2) continue;
		var el = elements[key];
		var path_more = path + '/' + el;
		var el_ = FS.stat(path_more).mode;
		FS.chmod(path_more, 744);
	var data = FS.isDir(el_) ? null : FS.readFile(path_more, { encoding: 'binary' })

	var contents = 
	ar.push(new DataStorage(((typeof apdx2rm == "string")?path_more.substring(apdx2rm.length):path_more),FS.isDir(el_),data));
	
		if (FS.isDir(el_)){
			recursiveData(FS, ar, path_more, apdx2rm);
		}
	}
}

// ------------------------------------------------------
if ( typeof module === 'object' ) {
	module.exports = { DataStorage };
}
