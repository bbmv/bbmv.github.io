(function(){function y(){function d(){a.attributes.position.setXYZ(this.idx,this.x,this.y,this.z);a.attributes.pSize.setX(this.idx,this.size);a.attributes.color.setXYZ(this.idx,this.R,this.G,this.B);a.attributes.pOpacity.setX(this.idx,this.opacity)}console.log(p.vertices.length);for(var c=0;c<a.attributes.position.count;c++){var b={x:a.attributes.position.getX(c),y:a.attributes.position.getY(c),z:a.attributes.position.getZ(c),size:.3,R:1,G:1,B:1,opacity:0,idx:c};var k={x:e.geometry.vertices[c].x,
y:e.geometry.vertices[c].y,z:e.geometry.vertices[c].z,size:.4,R:1,G:1,B:1,opacity:1,idx:c};(new TWEEN.Tween(b)).to(k,4E3).easing(TWEEN.Easing.Linear.None).onUpdate(d).delay(3E3).onStart(function(){}).onComplete(function(){q=!0}).start()}}function z(){function d(){a.attributes.pSize.setX(this.idx,this.size);a.attributes.color.setXYZ(this.idx,this.R,this.G,this.B)}q=!1;for(var c=0;c<r.length;c++){var b={size:.4,R:1,G:1,B:1,opacity:1,idx:r[c]},k=JSON.parse(JSON.stringify(b)),l={size:1.2,R:1,G:1,B:0,
opacity:1,idx:r[c]};b=new TWEEN.Tween(b);b.to(l,1E3).easing(TWEEN.Easing.Linear.None).onUpdate(d);l=new TWEEN.Tween(l);l.to(k,1E3).easing(TWEEN.Easing.Linear.None).onUpdate(d).onComplete(function(){q=!0});b.chain(l).start()}}var t,g,h,e,p,a,m,f=window.innerWidth,n=window.innerHeight;console.log("here - 0");var q=!1;Detector.webgl||Detector.addGetWebGLMessage();var u=new THREE.Raycaster,v=function(d){requestAnimationFrame(v);TWEEN.update();h.render(t,g);if(e){for(var c=new THREE.Vector2(10,10),b=0;b<
a.attributes.position.count;b++){var k=a.attributes.position.getX(b),l=a.attributes.position.getY(b),f=a.attributes.position.getZ(b);k=(new THREE.Vector2(k,l)).sub(c);d&&(a.attributes.position.setZ(b,.0015*Math.sin(k.length()/-.8+d/1E3)+f),a.attributes.position.needsUpdate=!0)}a.attributes.position.needsUpdate=!0;a.attributes.pSize.needsUpdate=!0;a.attributes.color.needsUpdate=!0;a.attributes.pOpacity.needsUpdate=!0;m.rotation.y+=w;e.rotateY(w)}};(function(){t=new THREE.Scene;g=new THREE.PerspectiveCamera(75,
f/n,.01,1E3);g.position.set(0,0,11);t.add(g);h=new THREE.WebGLRenderer({antialias:!0,alpha:!0});h.setPixelRatio(window.devicePixelRatio);h.setSize(f,n);h.setClearColor(0,0);document.getElementById("container3D").appendChild(h.domElement);console.log("here - 1");var d={map:{value:(new THREE.TextureLoader).load("./img/star01.png")},size:{value:7},opacity:{value:0},scale:{value:4},psColor:{value:new THREE.Color(5592490)}},c=new THREE.ShaderMaterial({uniforms:d,transparent:!0,blending:THREE.AdditiveBlending,
depthTest:!1,vertexColors:!0,vertexShader:document.getElementById("particleVertexShader").text,fragmentShader:document.getElementById("particleFragmentShader").text});(function(b,c,d){console.log("inside");d=[];for(var k=[],l=[],e=[],f,g,h,m=0;m<c;)f=b*Math.random()*Math.pow(-1,Math.round(Math.random())),g=b*Math.random()*Math.pow(-1,Math.round(Math.random())),h=b*Math.random()*Math.pow(-1,Math.round(Math.random())),b*b<f*f+h*h+g*g||(m++,e.push(f),e.push(g),e.push(h),l.push(.7,.7,.7),d.push(1),k.push(1));
a=new THREE.BufferGeometry;a.addAttribute("position",new THREE.Float32BufferAttribute(e,3));a.addAttribute("color",new THREE.Float32BufferAttribute(l,3));a.addAttribute("pSize",(new THREE.Float32BufferAttribute(d,1)).setDynamic(!0));a.addAttribute("pOpacity",(new THREE.Float32BufferAttribute(k,1)).setDynamic(!0));console.log("here - 2")})(5,22654,new THREE.Vector3(0,0,20));m=new THREE.Points(a,c);a.translate(0,0,10);m.updateMatrixWorld(!0);m.sortParticles=!1;(new THREE.OBJLoader).load("./model/globus_one_layer_smooth2.obj",
function(b){p=(new THREE.Geometry).fromBufferGeometry(b.children[0].geometry);p.mergeVertices();c=new THREE.MeshBasicMaterial({color:13056,side:THREE.DoubleSide,wireframe:!0});e=new THREE.Mesh(p,c);e.geometry.translate(4,0,0);y()});d=document.querySelector("#SELogo");TweenLite.from(d,2,{ease:Power1.easeInOut,y:window.innerHeight/2,scale:2,delay:.5});d=document.querySelector("#title");TweenLite.from(d,1,{ease:Power1.easeInOut,y:20,scale:.8,delay:2.5,opacity:0});d=document.querySelector("#text");TweenLite.from(d,
1,{ease:Power1.easeInOut,y:20,delay:3,opacity:0,onComplete:function(){t.add(m)}});window.addEventListener("resize",function(){f=window.innerWidth;n=window.innerHeight;g.aspect=f/n;g.updateProjectionMatrix();h.setSize(f,n)});document.addEventListener("mousemove",function(b){b.preventDefault();var a=new THREE.Vector2(b.clientX/f*2-1,2*-(b.clientY/n)+1);var c=e;b=new THREE.Vector3;u.setFromCamera(a,g);a=u.intersectObject(c);0<a.length?(b.copy(a[0].point),b=!0):b=!1;b&&q&&z()})})();for(var r=[],x=0;x<
a.attributes.position.count/10;x++)r.push(Math.round(Math.random()*a.attributes.position.count));var w=0;v()})();