var Detector={canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var b=document.createElement("canvas");return!(!window.WebGLRenderingContext||!b.getContext("webgl")&&!b.getContext("experimental-webgl"))}catch(y){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var b=document.createElement("div");b.id="webgl-error-message";b.style.fontFamily="monospace";b.style.fontSize="13px";b.style.fontWeight="normal";
b.style.textAlign="center";b.style.background="#fff";b.style.color="#000";b.style.padding="1.5em";b.style.width="400px";b.style.margin="5em auto 0";this.webgl||(b.innerHTML=window.WebGLRenderingContext?'Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">WebGL</a>.<br />\nFind out how to get it <a href="http://get.webgl.org/" style="color:#000">here</a>.':'Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">WebGL</a>.<br/>\nFind out how to get it <a href="http://get.webgl.org/" style="color:#000">here</a>.');
return b},addGetWebGLMessage:function(b){b=b||{};var y=void 0!==b.parent?b.parent:document.body;b=void 0!==b.id?b.id:"oldie";var m=Detector.getWebGLErrorMessage();m.id=b;y.appendChild(m)}};"object"===typeof module&&(module.exports=Detector);
THREE.OrbitControls=function(b,y){function m(){return Math.pow(.95,a.zoomSpeed)}function z(d){a.object instanceof THREE.PerspectiveCamera?F/=d:a.object instanceof THREE.OrthographicCamera?(a.object.zoom=Math.max(a.minZoom,Math.min(a.maxZoom,a.object.zoom*d)),a.object.updateProjectionMatrix(),C=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),a.enableZoom=!1)}function e(d){a.object instanceof THREE.PerspectiveCamera?F*=d:a.object instanceof THREE.OrthographicCamera?
(a.object.zoom=Math.max(a.minZoom,Math.min(a.maxZoom,a.object.zoom/d)),a.object.updateProjectionMatrix(),C=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),a.enableZoom=!1)}function c(d){if(!1!==a.enabled){d.preventDefault();switch(d.button){case a.mouseButtons.ORBIT:if(!1===a.enableRotate)return;G.set(d.clientX,d.clientY);f=g.ROTATE;break;case a.mouseButtons.ZOOM:if(!1===a.enableZoom)return;H.set(d.clientX,d.clientY);f=g.DOLLY;break;case a.mouseButtons.PAN:if(!1===
a.enablePan)return;I.set(d.clientX,d.clientY);f=g.PAN}f!==g.NONE&&(document.addEventListener("mousemove",w,!1),document.addEventListener("mouseup",n,!1),a.dispatchEvent(l))}}function w(d){if(!1!==a.enabled)switch(d.preventDefault(),f){case g.ROTATE:if(!1===a.enableRotate)break;J.set(d.clientX,d.clientY);B.subVectors(J,G);d=a.domElement===document?a.domElement.body:a.domElement;q.theta-=2*Math.PI*B.x/d.clientWidth*a.rotateSpeed;q.phi-=2*Math.PI*B.y/d.clientHeight*a.rotateSpeed;G.copy(J);a.update();
break;case g.DOLLY:if(!1===a.enableZoom)break;K.set(d.clientX,d.clientY);L.subVectors(K,H);0<L.y?z(m()):0>L.y&&e(m());H.copy(K);a.update();break;case g.PAN:!1!==a.enablePan&&(M.set(d.clientX,d.clientY),N.subVectors(M,I),O(N.x,N.y),I.copy(M),a.update())}}function n(d){!1!==a.enabled&&(document.removeEventListener("mousemove",w,!1),document.removeEventListener("mouseup",n,!1),a.dispatchEvent(p),f=g.NONE)}function k(d){!1===a.enabled||!1===a.enableZoom||f!==g.NONE&&f!==g.ROTATE||(d.preventDefault(),
d.stopPropagation(),0>d.deltaY?e(m()):0<d.deltaY&&z(m()),a.update(),a.dispatchEvent(l),a.dispatchEvent(p))}function v(d){if(!1!==a.enabled&&!1!==a.enableKeys&&!1!==a.enablePan)switch(d.keyCode){case a.keys.UP:O(0,a.keyPanSpeed);a.update();break;case a.keys.BOTTOM:O(0,-a.keyPanSpeed);a.update();break;case a.keys.LEFT:O(a.keyPanSpeed,0);a.update();break;case a.keys.RIGHT:O(-a.keyPanSpeed,0),a.update()}}function A(d){if(!1!==a.enabled){switch(d.touches.length){case 1:if(!1===a.enableRotate)return;G.set(d.touches[0].pageX,
d.touches[0].pageY);f=g.TOUCH_ROTATE;break;case 2:if(!1===a.enableZoom)return;var h=d.touches[0].pageX-d.touches[1].pageX;d=d.touches[0].pageY-d.touches[1].pageY;H.set(0,Math.sqrt(h*h+d*d));f=g.TOUCH_DOLLY;break;case 3:if(!1===a.enablePan)return;I.set(d.touches[0].pageX,d.touches[0].pageY);f=g.TOUCH_PAN;break;default:f=g.NONE}f!==g.NONE&&a.dispatchEvent(l)}}function t(d){if(!1!==a.enabled)switch(d.preventDefault(),d.stopPropagation(),d.touches.length){case 1:if(!1===a.enableRotate)break;if(f!==g.TOUCH_ROTATE)break;
J.set(d.touches[0].pageX,d.touches[0].pageY);B.subVectors(J,G);var h=a.domElement===document?a.domElement.body:a.domElement;q.theta-=2*Math.PI*B.x/h.clientWidth*a.rotateSpeed;q.phi-=2*Math.PI*B.y/h.clientHeight*a.rotateSpeed;G.copy(J);a.update();break;case 2:if(!1===a.enableZoom)break;if(f!==g.TOUCH_DOLLY)break;h=d.touches[0].pageX-d.touches[1].pageX;d=d.touches[0].pageY-d.touches[1].pageY;K.set(0,Math.sqrt(h*h+d*d));L.subVectors(K,H);0<L.y?e(m()):0>L.y&&z(m());H.copy(K);a.update();break;case 3:if(!1===
a.enablePan)break;if(f!==g.TOUCH_PAN)break;M.set(d.touches[0].pageX,d.touches[0].pageY);N.subVectors(M,I);O(N.x,N.y);I.copy(M);a.update();break;default:f=g.NONE}}function x(d){!1!==a.enabled&&(a.dispatchEvent(p),f=g.NONE)}function u(d){!1!==a.enabled&&d.preventDefault()}this.object=b;this.domElement=void 0!==y?y:document;this.enabled=!0;this.target=new THREE.Vector3;this.minDistance=0;this.maxDistance=Infinity;this.minZoom=0;this.maxZoom=Infinity;this.minPolarAngle=0;this.maxPolarAngle=Math.PI;this.minAzimuthAngle=
-Infinity;this.maxAzimuthAngle=Infinity;this.enableDamping=!1;this.dampingFactor=.25;this.enableZoom=!0;this.zoomSpeed=1;this.enableRotate=!0;this.rotateSpeed=1;this.enablePan=!0;this.keyPanSpeed=7;this.autoRotate=!1;this.autoRotateSpeed=2;this.enableKeys=!0;this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40};this.mouseButtons={ORBIT:THREE.MOUSE.LEFT,ZOOM:THREE.MOUSE.MIDDLE,PAN:THREE.MOUSE.RIGHT};this.target0=this.target.clone();this.position0=this.object.position.clone();this.zoom0=this.object.zoom;this.getPolarAngle=
function(){return r.phi};this.getAzimuthalAngle=function(){return r.theta};this.saveState=function(){a.target0.copy(a.target);a.position0.copy(a.object.position);a.zoom0=a.object.zoom};this.reset=function(){a.target.copy(a.target0);a.object.position.copy(a.position0);a.object.zoom=a.zoom0;a.object.updateProjectionMatrix();a.dispatchEvent(D);a.update();f=g.NONE};this.update=function(){var d=new THREE.Vector3,c=(new THREE.Quaternion).setFromUnitVectors(b.up,new THREE.Vector3(0,1,0)),p=c.clone().inverse(),
l=new THREE.Vector3,B=new THREE.Quaternion;return function(){var b=a.object.position;d.copy(b).sub(a.target);d.applyQuaternion(c);r.setFromVector3(d);a.autoRotate&&f===g.NONE&&(q.theta-=2*Math.PI/60/60*a.autoRotateSpeed);r.theta+=q.theta;r.phi+=q.phi;r.theta=Math.max(a.minAzimuthAngle,Math.min(a.maxAzimuthAngle,r.theta));r.phi=Math.max(a.minPolarAngle,Math.min(a.maxPolarAngle,r.phi));r.makeSafe();r.radius*=F;r.radius=Math.max(a.minDistance,Math.min(a.maxDistance,r.radius));a.target.add(E);d.setFromSpherical(r);
d.applyQuaternion(p);b.copy(a.target).add(d);a.object.lookAt(a.target);!0===a.enableDamping?(q.theta*=1-a.dampingFactor,q.phi*=1-a.dampingFactor):q.set(0,0,0);F=1;E.set(0,0,0);return C||l.distanceToSquared(a.object.position)>h||8*(1-B.dot(a.object.quaternion))>h?(a.dispatchEvent(D),l.copy(a.object.position),B.copy(a.object.quaternion),C=!1,!0):!1}}();this.dispose=function(){a.domElement.removeEventListener("contextmenu",u,!1);a.domElement.removeEventListener("mousedown",c,!1);a.domElement.removeEventListener("wheel",
k,!1);a.domElement.removeEventListener("touchstart",A,!1);a.domElement.removeEventListener("touchend",x,!1);a.domElement.removeEventListener("touchmove",t,!1);document.removeEventListener("mousemove",w,!1);document.removeEventListener("mouseup",n,!1);window.removeEventListener("keydown",v,!1)};var a=this,D={type:"change"},l={type:"start"},p={type:"end"},g={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},f=g.NONE,h=1E-6,r=new THREE.Spherical,q=new THREE.Spherical,F=1,E=new THREE.Vector3,
C=!1,G=new THREE.Vector2,J=new THREE.Vector2,B=new THREE.Vector2,I=new THREE.Vector2,M=new THREE.Vector2,N=new THREE.Vector2,H=new THREE.Vector2,K=new THREE.Vector2,L=new THREE.Vector2,P=function(){var a=new THREE.Vector3;return function(d,h){a.setFromMatrixColumn(h,0);a.multiplyScalar(-d);E.add(a)}}(),Q=function(){var a=new THREE.Vector3;return function(d,h){a.setFromMatrixColumn(h,1);a.multiplyScalar(d);E.add(a)}}(),O=function(){var d=new THREE.Vector3;return function(h,c){var f=a.domElement===
document?a.domElement.body:a.domElement;if(a.object instanceof THREE.PerspectiveCamera){d.copy(a.object.position).sub(a.target);var b=d.length();b*=Math.tan(a.object.fov/2*Math.PI/180);P(2*h*b/f.clientHeight,a.object.matrix);Q(2*c*b/f.clientHeight,a.object.matrix)}else a.object instanceof THREE.OrthographicCamera?(P(h*(a.object.right-a.object.left)/a.object.zoom/f.clientWidth,a.object.matrix),Q(c*(a.object.top-a.object.bottom)/a.object.zoom/f.clientHeight,a.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),
a.enablePan=!1)}}();a.domElement.addEventListener("contextmenu",u,!1);a.domElement.addEventListener("mousedown",c,!1);a.domElement.addEventListener("wheel",k,!1);a.domElement.addEventListener("touchstart",A,!1);a.domElement.addEventListener("touchend",x,!1);a.domElement.addEventListener("touchmove",t,!1);window.addEventListener("keydown",v,!1);this.update()};THREE.OrbitControls.prototype=Object.create(THREE.EventDispatcher.prototype);THREE.OrbitControls.prototype.constructor=THREE.OrbitControls;
Object.defineProperties(THREE.OrbitControls.prototype,{center:{get:function(){console.warn("THREE.OrbitControls: .center has been renamed to .target");return this.target}},noZoom:{get:function(){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.");return!this.enableZoom},set:function(b){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.");this.enableZoom=!b}},noRotate:{get:function(){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.");
return!this.enableRotate},set:function(b){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.");this.enableRotate=!b}},noPan:{get:function(){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.");return!this.enablePan},set:function(b){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.");this.enablePan=!b}},noKeys:{get:function(){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.");
return!this.enableKeys},set:function(b){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.");this.enableKeys=!b}},staticMoving:{get:function(){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.");return!this.enableDamping},set:function(b){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.");this.enableDamping=!b}},dynamicDampingFactor:{get:function(){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.");
return this.dampingFactor},set:function(b){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.");this.dampingFactor=b}}});THREE.STLLoader=function(b){this.manager=void 0!==b?b:THREE.DefaultLoadingManager};
THREE.STLLoader.prototype={constructor:THREE.STLLoader,load:function(b,y,m,z){var e=this,c=new THREE.FileLoader(e.manager);c.setResponseType("arraybuffer");c.load(b,function(c){try{y(e.parse(c))}catch(n){z&&z(n)}},m,z)},parse:function(b){function y(c){c=new DataView(c);for(var b=c.getUint32(80,!0),n,k,v,e=!1,t,m,u,a,D,l=0;70>l;l++)1129270351==c.getUint32(l,!1)&&82==c.getUint8(l+4)&&61==c.getUint8(l+5)&&(e=!0,t=[],m=c.getUint8(l+6)/255,u=c.getUint8(l+7)/255,a=c.getUint8(l+8)/255,D=c.getUint8(l+9)/
255);l=new THREE.BufferGeometry;for(var p=[],g=[],f=0;f<b;f++){var h=84+50*f,r=c.getFloat32(h,!0),q=c.getFloat32(h+4,!0),F=c.getFloat32(h+8,!0);e&&(v=c.getUint16(h+48,!0),0===(v&32768)?(n=(v&31)/31,k=(v>>5&31)/31,v=(v>>10&31)/31):(n=m,k=u,v=a));for(var E=1;3>=E;E++){var C=h+12*E;p.push(c.getFloat32(C,!0));p.push(c.getFloat32(C+4,!0));p.push(c.getFloat32(C+8,!0));g.push(r,q,F);e&&t.push(n,k,v)}}l.addAttribute("position",new THREE.BufferAttribute(new Float32Array(p),3));l.addAttribute("normal",new THREE.BufferAttribute(new Float32Array(g),
3));e&&(l.addAttribute("color",new THREE.BufferAttribute(new Float32Array(t),3)),l.hasColors=!0,l.alpha=D);return l}function m(c){var b=new THREE.BufferGeometry,n=/facet([\s\S]*?)endfacet/g,k=0,e=/[\s]+([+-]?(?:\d+.\d+|\d+.|\d+|.\d+)(?:[eE][+-]?\d+)?)/.source,m=new RegExp("vertex"+e+e+e,"g");e=new RegExp("normal"+e+e+e,"g");for(var t=[],x=[],u=new THREE.Vector3,a;null!==(a=n.exec(c));){for(var D=0,l=0,p=a[0];null!==(a=e.exec(p));)u.x=parseFloat(a[1]),u.y=parseFloat(a[2]),u.z=parseFloat(a[3]),l++;
for(;null!==(a=m.exec(p));)t.push(parseFloat(a[1]),parseFloat(a[2]),parseFloat(a[3])),x.push(u.x,u.y,u.z),D++;1!==l&&console.error("THREE.STLLoader: Something isn't right with the normal of face number "+k);3!==D&&console.error("THREE.STLLoader: Something isn't right with the vertices of face number "+k);k++}b.addAttribute("position",new THREE.Float32BufferAttribute(t,3));b.addAttribute("normal",new THREE.Float32BufferAttribute(x,3));return b}function z(c){return"string"!==typeof c?THREE.LoaderUtils.decodeText(new Uint8Array(c)):
c}var e=function(c){if("string"===typeof c){for(var b=new Uint8Array(c.length),e=0;e<c.length;e++)b[e]=c.charCodeAt(e)&255;return b.buffer||b}return c}(b);return function(b){b=new DataView(b);if(84+50*b.getUint32(80,!0)===b.byteLength)return!0;for(var c=[115,111,108,105,100],e=0;5>e;e++)if(c[e]!=b.getUint8(e,!1))return!0;return!1}(e)?y(e):m(z(b))}};
(function(){function b(a,b){this._linkPoint=b;var c=[],g;this.addPoint=function(b){c.length<a&&(b=k.worldToLocal(b),c.push(b),A.update())};this.addWidget=function(a){g=a};this.getWidget=function(){return g};this.length=function(){return c.length};this.toArray=function(){var a=[];c.forEach(function(b){a=a.concat(b.toArray())});return a}}function y(a,b){var e={intersects:!1,point:new THREE.Vector3};u.setFromCamera(a,c);var g=u.intersectObject(b);0<g.length?(e.point.copy(g[0].point),e.intersects=!0):
e.intersects=!1;return e}function m(a,b){var e=t/2,g=x/2,f=b.clone();f=a.localToWorld(f);f.project(c);return{x:f.x*e+e,y:-(f.y*g)+g}}function z(a,b){function c(a){var b=n.getContext("2d"),h=n.width,c=n.height,e=c-2-1,f=Math.atan(c/h),g=2*(1+Math.cos(f))+1;f=c-2*(1+Math.sin(f))-1;b.clearRect(0,0,h,c);b.beginPath();b.lineWidth=1;b.strokeStyle=a?"#ff0000":"#ffffff";b.moveTo(g,f);b.lineTo(h,0);b.stroke();b.beginPath();b.strokeStyle="#ffffff";b.arc(3,e,2,0,2*Math.PI,!1);b.stroke()}function e(a){var b=
a.target.closest(".bubble"),h=b.offsetHeight+b.offsetTop;a.target.nextSibling.innerHTML=a.target.value+"\n";b.style.top=h-b.offsetHeight+"px"}function f(a){a.target.parentNode.remove();A.remove(t)}function h(a){a.target.closest(".bubble").style.zIndex="100";c(!0)}function r(a){a.target.closest(".bubble").style.zIndex="";c(!1)}function l(a,b){k.style.top=b-k.offsetHeight+"px";k.style.left=a+"px"}var k,m,n,t=this;(function(){k=document.createElement("div");k.className="bubble";document.body.appendChild(k);
var g=document.createElement("div");g.setAttribute("data-captured","");g.className="bubble__text-container";k.appendChild(g);var p=document.createElement("textarea");p.setAttribute("data-captured","");p.className="bubble__text";g.appendChild(p);p.addEventListener("input",e);p.addEventListener("focus",h);p.addEventListener("blur",r);var q=document.createElement("div");q.className="bubble__text-space";g.appendChild(q);q.innerHTML="\n";m=document.createElement("div");m.setAttribute("data-captured","");
m.className="bubble__button-delete";m.textContent="+";k.appendChild(m);m.addEventListener("click",f);n=document.createElement("canvas");n.width=20;n.height=50;k.appendChild(n);c(!1);p.focus();l(a,b)})();this.setPosition=l}var e,c,w,n,k,v,A=new function(){function a(){var a=0;e.forEach(function(b){a+=b.length()});return a}function c(){var a=[];e.forEach(function(b){a=a.concat(b.toArray())});for(var b=a.length;1500>b;b+=1)a.push(1E4);for(b=0;1500>b;b+=1)g[b]=a[b]}var e=[],g=new Float32Array(1500),f;
c();this.addNote=function(c){var h=a();if(500<=h)return null;f=new b(500-h,c);e.push(f);f.addPoint(c);return f};this.getNote=function(a){return e[a]};this.update=c;this.getTrail=function(){return g};this.getCurrentNote=function(){return f};this.remove=function(a){a:{for(var b=0,h=e.length;b<h;b+=1)if(a===e[b].getWidget()){a=b;break a}a=-1}-1!==a&&(e.splice(a,1),c());f=null};this.length=function(){return e.length}},t=window.innerWidth,x=window.innerHeight;Detector.webgl||Detector.addGetWebGLMessage();
var u=new THREE.Raycaster,a=function(){requestAnimationFrame(a);n&&k&&(n.position.set(c.position.x,c.position.y,c.position.z),w.render(e,c))};(function(){function a(a){return new THREE.Vector2(a.clientX/t*2-1,2*-(a.clientY/x)+1)}function b(){w.render(e,c);for(var a=0,b=A.length();a<b;a+=1){var f=A.getNote(a),g=m(k,f._linkPoint);f.getWidget().setPosition(g.x,g.y)}}e=new THREE.Scene;c=new THREE.PerspectiveCamera(75,t/x,.1,1E3);c.position.z=5;e.add(c);w=new THREE.WebGLRenderer({antialias:!0});w.setPixelRatio(window.devicePixelRatio);
w.setSize(t,x);w.setClearColor(new THREE.Color(0));w.shadowMap.enabled=!0;document.getElementById("container3D").appendChild(w.domElement);var p=new THREE.OrbitControls(c,document.getElementById("container3D"));p.enableKeys=!1;p.enablePan=!1;p.mouseButtons={ORBIT:THREE.MOUSE.RIGHT,ZOOM:THREE.MOUSE.MIDDLE};var g=new THREE.AmbientLight(5592405);e.add(g);n=new THREE.SpotLight(11184810);n.position.set(3,1,3);e.add(n);g=THREE.UniformsUtils.clone(THREE.ShaderLib.phong.uniforms);g.u_brushSize={type:"f",
value:.2};g.u_trail={type:"3fv",value:A.getTrail()};g.u_brushColor={type:"4fv",value:new THREE.Vector4(1,0,0,1)};g.u_opacity={type:"f",value:.8};v=new THREE.ShaderMaterial({uniforms:g,vertexShader:document.getElementById("vertexShader").textContent,fragmentShader:document.getElementById("fragmentShader").textContent,lights:!0,fog:!1,wireframe:!1});(new THREE.STLLoader).load("./model/skull.stl",function(a){k=new THREE.Mesh(a,v);k.castShadow=!0;k.receiveShadow=!0;e.add(k);k.scale.set(.7,.7,.7);k.rotation.set(-Math.PI/
2,0,0);k.position.set(0,-.8,0);e.updateMatrixWorld(!0);n.target=k;document.getElementById("loading").style.display="none"});new THREE.ArrowHelper(new THREE.Vector3(0,0,0),new THREE.Vector3(0,0,0),1,16776960);var f=!1;window.addEventListener("resize",function(){t=window.innerWidth;x=window.innerHeight;c.aspect=t/x;c.updateProjectionMatrix();w.setSize(t,x);b()});document.addEventListener("mousedown",function(b){f||b.target.hasAttribute("data-captured")||0!==b.button||(b=a(b),b=y(b,k),b.intersects&&
null!==A.addNote(b.point)&&(f=!0))});document.addEventListener("mouseup",function(){if(f){f=!1;var a=A.getCurrentNote(),b=m(k,a._linkPoint);a.addWidget(new z(b.x,b.y))}});document.addEventListener("mousemove",function(b){f&&(b=a(b),b=y(b,k),b.intersects&&A.getCurrentNote().addPoint(b.point))});p.addEventListener("change",b)})();a();document.body.onContextMenu=function(){return!1}})();